{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","components/Footer.js","App.js","index.js"],"names":["PersonForm","props","value","newName","onChange","handleNewName","number","handleNumber","onClick","addPerson","type","Person","name","handleDeletePerson","id","Persons","persons","map","person","key","Filter","handleSearch","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","notifySuccess","color","backgroundColor","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","message","notifyColor","deletErrorMessage","style","Footer","fontStyle","App","useState","setPersons","setNewName","setNumber","search","setSearch","errorMessage","setErrorMessage","setStyle","useEffect","personService","setTimeout","searchPersons","filter","toLowerCase","includes","event","target","preventDefault","personFound","find","toLocaleLowerCase","window","confirm","changedPerson","modifidPerson","catch","error","nperson","concat","p","toString","dperson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2fc9976f.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n\n    return (\n        <form>\n            <div> Name : <input value={props.newName} onChange={props.handleNewName}/> </div><br/>\n            <div> Number: <input value={props.number} onChange={props.handleNumber} /> </div>\n            <div> <button onClick={props.addPerson} type=\"submit\"> add </button></div>\n        </form>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ name, number, handleDeletePerson,value}) => <p id={value}> {name} {number} <button value={value} onClick={handleDeletePerson}>delete</button></p>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n\n    return (\n       props.persons.map(\n            person => <Person key={person.id} value={person.id} name={person.name} number={person.number} handleDeletePerson={props.handleDeletePerson}  />\n        ) \n    )\n}\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>Filter shown with <input onChange={props.handleSearch} /></div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl,newPerson)\n    return request.then(response => response.data)\n}\n\nconst update = (id,newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`,newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update,remove}","import React from 'react'\n\nconst notifySuccess = {\n\n    color: \"green\",\n    backgroundColor: \"lightgray\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n\n}\n\nconst Notification = ({ message, deletErrorMessage,notifyColor}) => {\n\n    if(message === null){\n        return null\n    }\n    return(\n        <div style={notifyColor ? notifySuccess : {...notifySuccess,color:\"red\"}}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import React from 'react'\n\nconst Footer = () => {\n    const footerStyle = {\n        color: 'green',\n        fontStyle: 'italic',\n        fontSize: 16\n    }\n    return (\n        <div style={footerStyle}>\n            <br />\n            <em>&#169; T. H. Phonebook app, Department of Computer Science, University of Helsinki 2020</em>\n        </div>\n    )\n}\n\nexport default Footer","import React,{useState, useEffect} from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\nimport Footer from './components/Footer'\n\nconst  App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [number, setNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [style, setStyle] = useState('')\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(response => {\n      setPersons(response)\n    })\n  }\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if(newName === '' || number === ''){\n      setStyle(false)\n      setErrorMessage('Please fill all fields')\n      deletErrorMessage()\n    }else{\n\n     const personFound = persons.find(person => person.name.toLowerCase() === newName.toLocaleLowerCase())\n      if (personFound){\n      const reply =  window.confirm(`${newName} is already added to the phone book. replace old number with new one? `)\n        if(reply){\n          const changedPerson = { ...personFound, number: number}\n          personService\n            .update(personFound.id, changedPerson)\n            .then(modifidPerson => setPersons(persons.map(person => person.name !== personFound.name ? person : modifidPerson)))\n            .catch(error => {\n              setErrorMessage(error.response.data.error)\n              setStyle(false)\n            })\n          setErrorMessage(`${changedPerson.name}'s number changed successfully`)\n          setNumber('')\n          setNewName('')\n          setStyle(true)\n          deletErrorMessage()\n        }else{\n          setNumber('')\n          setNewName('')\n        }\n        \n      }else{\n        const newPerson = {\n          name: newName,\n          number:number\n        }\n        personService\n          .create(newPerson)\n          .then(nperson => {\n            setPersons(persons.concat(nperson))\n            setNewName('')\n            setNumber('')\n            setStyle(true)\n            setErrorMessage(`${newPerson.name} is added successfully`)\n          }).catch(error => {\n            setErrorMessage(error.response.data.error)\n            setStyle(false)\n          })\n        deletErrorMessage()\n      }\n      }\n  }\n   const deletErrorMessage = () =>{\n    setTimeout(() => {\n      setErrorMessage(null)\n\n    }, 3000)\n  } \n  const handleNewName = (event) => {\n        setNewName(event.target.value)\n        //console.log(event.target.value)\n        \n  }\n  const handleNumber = (event) => {\n    setNumber(event.target.value)\n    //console.log(event.target.value)\n\n  }\n  const handleSearch = (event) =>{\n    setSearch(event.target.value)\n  }\n\n  const handleDeletePerson = (event) => {\n    const id = event.target.value\n    const person = persons.find(p => p.id.toString() === id)\n    const response = window.confirm(`Delete ${person.name} ?`)\n    if(response === false){\n      return \n    }\n      personService\n        .remove(id)\n        .then(dperson => {\n          setPersons(persons.filter(person => person.id.toString() !== id))\n          setErrorMessage(`${person.name} is deleted successfully`)\n          setStyle(true)\n          deletErrorMessage()\n        })\n        .catch(error =>{\n          setPersons(persons.filter(person => person.id.toString() !== id))\n          setErrorMessage(`Sorry, ${person.name} is already deleted `)\n          setStyle(false)\n          deletErrorMessage()\n        })\n      \n       \n  }\n\n  \n// returns filterd person names based on a given search text\n  const searchPersons = persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} notifyColor={style} />\n      <Filter handleSearch={handleSearch} />\n      <h3>Add a new</h3>\n     <PersonForm \n       newName={newName}\n       number={number}\n       handleNewName={handleNewName}\n       handleNumber={handleNumber}\n       addPerson={addPerson}\n     />\n\n      <h3>Numbers</h3>\n      <Persons persons={searchPersons} handleDeletePerson={handleDeletePerson}/>\n      <Footer />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}